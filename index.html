<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CactusVPN üåµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
        }

        body {
            background: #0a0f0c;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 16px;
        }

        .card {
            background: #111913;
            border-radius: 32px;
            padding: 32px 24px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8), 0 0 0 2px #2b4b2b inset;
            border: 1px solid #3f6e3f;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 28px;
        }

        .cactus-icon {
            font-size: 40px;
            filter: drop-shadow(0 0 8px #6fda6f);
        }

        .title h1 {
            color: #b0ffb0;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 0 10px #2e7d32;
        }

        .title p {
            color: #7a9e7a;
            font-size: 14px;
        }

        /* –°—Ç–∞—Ç—É—Å-–±–∞—Ä */
        .status-card {
            background: #1a261a;
            border-radius: 40px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid #3b6e3b;
            box-shadow: inset 0 2px 5px #0a130a;
        }

        .status-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .status-label {
            color: #9bbd9b;
            font-weight: 500;
            font-size: 16px;
        }

        .status-value {
            font-weight: 700;
            font-size: 18px;
            padding: 6px 16px;
            border-radius: 40px;
            background: #1f331f;
            color: #b0ffb0;
            box-shadow: 0 0 8px #2e7d3240;
        }

        .ip-block {
            background: #102310;
            border-radius: 24px;
            padding: 14px;
            margin-top: 8px;
            border: 1px dashed #4c8b4c;
        }

        .ip-item {
            display: flex;
            justify-content: space-between;
            color: #b8e0b8;
            font-size: 15px;
            margin: 6px 0;
        }

        /* –ö–Ω–æ–ø–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ */
        .server-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 28px 0;
        }

        .server-btn {
            background: #1c2c1c;
            border: 2px solid #2f582f;
            border-radius: 60px;
            padding: 16px 8px;
            color: #dcffdc;
            font-weight: 600;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: 0.2s;
            cursor: pointer;
            box-shadow: 0 5px 0 #0e2b0e;
        }

        .server-btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #0e2b0e;
        }

        .server-btn:hover {
            background: #255025;
            border-color: #6fda6f;
            box-shadow: 0 0 15px #50c850;
        }

        /* –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è */
        .disconnect-btn {
            width: 100%;
            background: #3d1e1e;
            border: 2px solid #b45f5f;
            border-radius: 60px;
            padding: 16px;
            color: #ffb0b0;
            font-weight: 700;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 5px 0 #4a2b2b;
        }

        .disconnect-btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #4a2b2b;
        }

        .disconnect-btn:hover {
            background: #5c2e2e;
            border-color: #ff8a8a;
            color: #ffe0e0;
        }

        /* –¢–µ—Å—Ç–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .test-section {
            background: #1e2c1e;
            border-radius: 40px;
            padding: 18px;
        }

        .test-title {
            color: #b0e0b0;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .test-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .test-btn {
            background: #172317;
            border: 1px solid #4b6e4b;
            border-radius: 40px;
            padding: 10px 18px;
            color: #bddeb5;
            font-size: 14px;
            cursor: pointer;
            flex: 1 0 auto;
            transition: 0.2s;
        }

        .test-btn:hover {
            background: #2a462a;
            border-color: #96d696;
        }

        #testResult {
            margin-top: 15px;
            padding: 12px;
            border-radius: 30px;
            background: #0f190f;
            color: #c6e6c6;
            font-size: 14px;
            border: 1px solid #527a52;
            min-height: 20px;
        }

        .footer-note {
            text-align: center;
            color: #467446;
            font-size: 12px;
            margin-top: 16px;
        }
    </style>
</head>
<body>
    <div class="card">
        <!-- –®–∞–ø–∫–∞ —Å –∫–∞–∫—Ç—É—Å–æ–º -->
        <div class="header">
            <div class="cactus-icon">üåµ</div>
            <div class="title">
                <h1>CactusVPN</h1>
                <p>–∫–æ–ª—é—á–∞—è –∑–∞—â–∏—Ç–∞</p>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
        <div class="status-card">
            <div class="status-row">
                <span class="status-label">–°—Ç–∞—Ç—É—Å</span>
                <span class="status-value" id="status">–û—Ç–∫–ª—é—á—ë–Ω</span>
            </div>
            <div class="ip-block">
                <div class="ip-item"><span>üåê IP</span> <span id="ipAddress">‚Äî</span></div>
                <div class="ip-item"><span>üìç –°—Ç—Ä–∞–Ω–∞</span> <span id="country">‚Äî</span></div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ (–∑–µ–ª–µ–Ω—ã–µ, —Å–æ—á–Ω—ã–µ) -->
        <div class="server-grid">
            <button class="server-btn" onclick="connectVPN('nl')">üá≥üá± NL</button>
            <button class="server-btn" onclick="connectVPN('de')">üá©üá™ DE</button>
            <button class="server-btn" onclick="connectVPN('fi')">üá´üáÆ FI</button>
            <button class="server-btn" onclick="connectVPN('us')">üá∫üá∏ US</button>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è (–∫—Ä–∞—Å–Ω–æ–≤–∞—Ç–∞—è, –Ω–æ –≤ —Ç–µ–º—É) -->
        <button class="disconnect-btn" onclick="disconnectVPN()">
            <span>‚èª</span> –û–¢–ö–õ–Æ–ß–ò–¢–¨–°–Ø
        </button>

        <!-- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–æ–≤ -->
        <div class="test-section">
            <div class="test-title">‚ö° –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞</div>
            <div class="test-buttons">
                <button class="test-btn" onclick="testSite('google.com')">Google</button>
                <button class="test-btn" onclick="testSite('youtube.com')">YouTube</button>
                <button class="test-btn" onclick="testSite('instagram.com')">Instagram</button>
                <button class="test-btn" onclick="testSite('x.com')">X.com</button>
            </div>
            <div id="testResult">–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</div>
        </div>

        <div class="footer-note">
            üåµ –∂–º–∏ ‚Äî –∫–ª—é—á –ø–æ—è–≤–∏—Ç—Å—è —Å–≤–µ—Ä—Ö—É
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ WireGuard (–∑–∞–ø–æ–ª–Ω–∏ —Å–≤–æ–∏–º–∏ –∏–∑ Telegram) -->
    <div style="display: none;">
        <pre id="conf_nl">[Interface]
PrivateKey = eHl6MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.2/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = nl.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_de">[Interface]
PrivateKey = ZXhhbXBsZXByaXZhdGVrZXlmb3JwZWVyMTIzNDU2Nzg5MA==
Address = 10.0.0.3/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = de.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_fi">[Interface]
PrivateKey = Znl6MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.4/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = fi.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_us">[Interface]
PrivateKey = dXNhMTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.5/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = us.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>
    </div>

    <script>
        // –¢–≤–æ–∏ —Ä–∞–±–æ—á–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤ (–∑–∞–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ)
        const servers = {
            'nl': { name: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã', confId: 'conf_nl' },
            'de': { name: '–ì–µ—Ä–º–∞–Ω–∏—è', confId: 'conf_de' },
            'fi': { name: '–§–∏–Ω–ª—è–Ω–¥–∏—è', confId: 'conf_fi' },
            'us': { name: '–°–®–ê', confId: 'conf_us' }
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ
        let currentServer = null;

        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPN (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–æ–∫ üîë)
        function connectVPN(code) {
            const server = servers[code];
            if (!server) return;

            // –î–æ—Å—Ç–∞—ë–º –∫–æ–Ω—Ñ–∏–≥ –∏–∑ —Å–∫—Ä—ã—Ç–æ–≥–æ –±–ª–æ–∫–∞
            const configElement = document.getElementById(server.confId);
            if (!configElement) {
                alert('‚ùå –ö–æ–Ω—Ñ–∏–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω. –î–æ–±–∞–≤—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ #conf_' + code);
                return;
            }

            const config = configElement.textContent.trim();

            // –ú–µ–Ω—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('status').innerText = '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...';
            document.getElementById('status').style.color = '#b0ffb0';

            // 1. –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å WireGuard —á–µ—Ä–µ–∑ deep link (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á!)
            window.location.href = 'wireguard://' + encodeURIComponent(config);

            // 2. –î–ª—è Android ‚Äî intent
            window.location.href = 'intent://' + encodeURIComponent(config) + '#Intent;package=com.wireguard.android;end';

            // 3. –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
            setTimeout(() => {
                const blob = new Blob([config], { type: 'application/x-wireguard-config' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `cactus-${code}.conf`;
                link.click();

                document.getElementById('status').innerText = `‚¨áÔ∏è –ö–æ–Ω—Ñ–∏–≥ ${server.name} —Å–æ—Ö—Ä–∞–Ω—ë–Ω`;
            }, 800);

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
            currentServer = code;
            document.getElementById('status').innerText = `üîë ${server.name}`;
            localStorage.setItem('cactus_vpn', code);
            checkIP();
        }

        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ (–ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º WireGuard –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)
        function disconnectVPN() {
            window.location.href = 'wireguard://';
            document.getElementById('status').innerText = '–û—Ç–∫–ª—é—á—ë–Ω';
            document.getElementById('status').style.color = '#ffb0b0';
            currentServer = null;
            localStorage.removeItem('cactus_vpn');
            checkIP();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ IP
        function checkIP() {
            fetch('https://api.ipify.org?format=json')
                .then(r => r.json())
                .then(d => {
                    document.getElementById('ipAddress').innerText = d.ip;
                    return fetch(`https://ipapi.co/${d.ip}/json/`);
                })
                .then(r => r.json())
                .then(d => {
                    document.getElementById('country').innerText = d.country_name || '‚Äî';
                })
                .catch(() => {
                    document.getElementById('ipAddress').innerText = '‚Äî';
                    document.getElementById('country').innerText = '‚Äî';
                });
        }

        // –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞
        function testSite(site) {
            const resultDiv = document.getElementById('testResult');
            resultDiv.innerHTML = `‚è≥ –ü—Ä–æ–≤–µ—Ä—è–µ–º ${site}...`;
            resultDiv.style.color = '#b0e0b0';

            fetch(`https://${site}`, { method: 'HEAD', mode: 'no-cors' })
                .then(() => {
                    resultDiv.innerHTML = `‚úÖ ${site} ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω`;
                    resultDiv.style.color = '#a5d6a5';
                })
                .catch(() => {
                    resultDiv.innerHTML = `‚ùå ${site} ‚Äî –Ω—É–∂–µ–Ω VPN`;
                    resultDiv.style.color = '#ffaaaa';
                });
        }

        // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            checkIP();
            const saved = localStorage.getItem('cactus_vpn');
            if (saved && servers[saved]) {
                document.getElementById('status').innerText = `üîë ${servers[saved].name} (–ø–æ—Å–ª–µ–¥–Ω–∏–π)`;
            }
        };
    </script>
</body>
</html>