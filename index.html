<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CactusVPN üåµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
        }

        body {
            background: #0a0f0c;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 16px;
        }

        .card {
            background: #111913;
            border-radius: 48px;
            padding: 32px 24px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8), 0 0 0 2px #2b4b2b inset;
            border: 1px solid #3f6e3f;
            transition: all 0.3s ease;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 28px;
        }

        .cactus-icon {
            font-size: 40px;
            filter: drop-shadow(0 0 8px #6fda6f);
            animation: float 3s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .title h1 {
            color: #b0ffb0;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 0 10px #2e7d32;
        }

        .title p {
            color: #7a9e7a;
            font-size: 14px;
        }

        /* –°—Ç–∞—Ç—É—Å-–±–∞—Ä */
        .status-card {
            background: #1a261a;
            border-radius: 40px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid #3b6e3b;
            box-shadow: inset 0 2px 5px #0a130a;
            transition: all 0.3s ease;
        }

        .status-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .status-label {
            color: #9bbd9b;
            font-weight: 500;
            font-size: 16px;
        }

        .status-value {
            font-weight: 700;
            font-size: 18px;
            padding: 6px 16px;
            border-radius: 40px;
            background: #1f331f;
            color: #b0ffb0;
            box-shadow: 0 0 8px #2e7d3240;
            transition: all 0.3s ease;
        }

        .ip-block {
            background: #102310;
            border-radius: 24px;
            padding: 14px;
            margin-top: 8px;
            border: 1px dashed #4c8b4c;
        }

        .ip-item {
            display: flex;
            justify-content: space-between;
            color: #b8e0b8;
            font-size: 15px;
            margin: 6px 0;
        }

        /* –ö–†–£–ì–õ–ê–Ø –ö–ù–û–ü–ö–ê –ü–û –¶–ï–ù–¢–†–£ */
        .power-button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
        }

        .power-button {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(145deg, #3a3a3a, #2a2a2a);
            border: 4px solid #5a5a5a;
            box-shadow: 0 10px 0 #2d2d2d, 0 0 20px rgba(0,0,0,0.5);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: white;
            font-weight: bold;
            font-size: 18px;
            gap: 4px;
            position: relative;
            overflow: hidden;
        }

        .power-button::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.2), transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .power-button:hover::before {
            opacity: 1;
        }

        .power-button span {
            font-size: 48px;
            line-height: 1;
            color: #cccccc;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
            z-index: 2;
        }

        .power-button .power-text {
            font-size: 14px;
            letter-spacing: 2px;
            color: #cccccc;
            text-transform: uppercase;
            transition: all 0.3s ease;
            z-index: 2;
        }

        /* –í–∫–ª—é—á–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∑–µ–ª–µ–Ω–æ–µ) */
        .power-button.on {
            background: linear-gradient(145deg, #1e8a1e, #0e5a0e);
            border-color: #8eff8e;
            box-shadow: 0 10px 0 #0e4a0e, 0 0 40px #00ff88;
        }

        .power-button.on span {
            color: #ffffff;
            text-shadow: 0 0 20px #ffffff;
        }

        .power-button.on .power-text {
            color: #ffffff;
        }

        .power-button:active {
            transform: translateY(8px);
            box-shadow: 0 2px 0 #2d2d2d, 0 0 40px #00ff88;
        }

        /* –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ */
        .select-container {
            margin: 20px 0;
            position: relative;
        }

        .server-select {
            width: 100%;
            padding: 16px 24px;
            background: #1c2c1c;
            border: 2px solid #3a6e3a;
            border-radius: 60px;
            color: #dcffdc;
            font-size: 18px;
            font-weight: 600;
            appearance: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 0 #0e2b0e;
        }

        .server-select:hover {
            background: #255025;
            border-color: #6fda6f;
            box-shadow: 0 5px 0 #0e2b0e, 0 0 15px #50c850;
        }

        .server-select:focus {
            outline: none;
            border-color: #8eff8e;
            box-shadow: 0 5px 0 #0e2b0e, 0 0 20px #00ff88;
        }

        .select-container::after {
            content: '‚ñº';
            position: absolute;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            color: #8bc34a;
            font-size: 14px;
            pointer-events: none;
            transition: transform 0.3s ease;
        }

        .select-container:hover::after {
            transform: translateY(-50%) scale(1.2);
        }

        /* –ú–µ—Ç—Ä–∏–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ */
        .metrics-container {
            background: #1a261a;
            border-radius: 40px;
            padding: 20px;
            margin: 25px 0;
            border: 1px solid #3b6e3b;
            box-shadow: inset 0 2px 5px #0a130a;
        }

        .metric-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 12px 0;
            color: #b0e0b0;
        }

        .metric-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        .metric-value {
            font-weight: 700;
            font-size: 18px;
            color: #8eff8e;
            transition: all 0.3s ease;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #0f1f0f;
            border-radius: 10px;
            margin: 5px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8eff8e);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px #00ff80;
        }

        /* –¢–µ—Å—Ç–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .test-section {
            background: #1e2c1e;
            border-radius: 40px;
            padding: 18px;
            margin-top: 20px;
        }

        .test-title {
            color: #b0e0b0;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .test-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .test-btn {
            background: #172317;
            border: 1px solid #4b6e4b;
            border-radius: 40px;
            padding: 10px 18px;
            color: #bddeb5;
            font-size: 14px;
            cursor: pointer;
            flex: 1 0 auto;
            transition: all 0.3s ease;
        }

        .test-btn:hover {
            background: #2a462a;
            border-color: #96d696;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,255,0,0.2);
        }

        .test-btn:active {
            transform: translateY(2px);
        }

        #testResult {
            margin-top: 15px;
            padding: 12px;
            border-radius: 30px;
            background: #0f190f;
            color: #c6e6c6;
            font-size: 14px;
            border: 1px solid #527a52;
            min-height: 20px;
            transition: all 0.3s ease;
        }

        .footer-note {
            text-align: center;
            color: #467446;
            font-size: 12px;
            margin-top: 16px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .loading {
            animation: spin 1s linear infinite;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="card">
        <!-- –®–∞–ø–∫–∞ —Å –∫–∞–∫—Ç—É—Å–æ–º -->
        <div class="header">
            <div class="cactus-icon">üåµ</div>
            <div class="title">
                <h1>CactusVPN</h1>
                <p>–∫–æ–ª—é—á–∞—è –∑–∞—â–∏—Ç–∞</p>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
        <div class="status-card">
            <div class="status-row">
                <span class="status-label">–°—Ç–∞—Ç—É—Å</span>
                <span class="status-value" id="status">–û—Ç–∫–ª—é—á—ë–Ω</span>
            </div>
            <div class="ip-block">
                <div class="ip-item"><span>üåê IP</span> <span id="ipAddress">‚Äî</span></div>
                <div class="ip-item"><span>üìç –°—Ç—Ä–∞–Ω–∞</span> <span id="country">‚Äî</span></div>
            </div>
        </div>

        <!-- –ö–†–£–ì–õ–ê–Ø –ö–ù–û–ü–ö–ê –ü–û –¶–ï–ù–¢–†–£ -->
        <div class="power-button-container">
            <div class="power-button" id="powerBtn" onclick="togglePower()">
                <span>‚èª</span>
                <span class="power-text" id="powerText">–í–´–ö–õ</span>
            </div>
        </div>

        <!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
        <div class="select-container">
            <select class="server-select" id="serverSelect" onchange="changeServer()">
                <option value="nl">üá≥üá± –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã (–ê–º—Å—Ç–µ—Ä–¥–∞–º)</option>
                <option value="de">üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è (–§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç)</option>
                <option value="fi">üá´üáÆ –§–∏–Ω–ª—è–Ω–¥–∏—è (–•–µ–ª—å—Å–∏–Ω–∫–∏)</option>
                <option value="us">üá∫üá∏ –°–®–ê (–ù—å—é-–ô–æ—Ä–∫)</option>
                <option value="gb">üá¨üáß –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è (–õ–æ–Ω–¥–æ–Ω)</option>
            </select>
        </div>

        <!-- –ú–µ—Ç—Ä–∏–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ -->
        <div class="metrics-container">
            <div class="metric-item">
                <span class="metric-label">üì• –ó–∞–≥—Ä—É–∑–∫–∞</span>
                <span class="metric-value" id="downloadSpeed">0 Mbps</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="downloadProgress" style="width: 0%"></div>
            </div>
            
            <div class="metric-item">
                <span class="metric-label">üì§ –û—Ç–¥–∞—á–∞</span>
                <span class="metric-value" id="uploadSpeed">0 Mbps</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="uploadProgress" style="width: 0%"></div>
            </div>
            
            <div class="metric-item">
                <span class="metric-label">‚ö° –ü–∏–Ω–≥</span>
                <span class="metric-value" id="ping">0 ms</span>
            </div>
            
            <div class="metric-item">
                <span class="metric-label">üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ</span>
                <span class="metric-value" id="dataUsed">0 MB</span>
            </div>
        </div>

        <!-- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–æ–≤ -->
        <div class="test-section">
            <div class="test-title">‚ö° –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞</div>
            <div class="test-buttons">
                <button class="test-btn" onclick="testSite('google.com')">Google</button>
                <button class="test-btn" onclick="testSite('youtube.com')">YouTube</button>
                <button class="test-btn" onclick="testSite('instagram.com')">Instagram</button>
                <button class="test-btn" onclick="testSite('x.com')">X.com</button>
                <button class="test-btn" onclick="testSite('discord.com')">Discord</button>
            </div>
            <div id="testResult">–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</div>
        </div>

        <div class="footer-note">
            üåµ –Ω–∞–∂–º–∏ –Ω–∞ –∫–∞–∫—Ç—É—Å ‚Äî –∫–ª—é—á üîë –ø–æ—è–≤–∏—Ç—Å—è —Å–≤–µ—Ä—Ö—É
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ WireGuard (–ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ò –ò–ó TELEGRAM) -->
    <div style="display: none;">
        <pre id="conf_nl">[Interface]
PrivateKey = eHl6MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.2/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = nl.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_de">[Interface]
PrivateKey = ZXhhbXBsZXByaXZhdGVrZXlmb3JwZWVyMTIzNDU2Nzg5MA==
Address = 10.0.0.3/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = de.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_fi">[Interface]
PrivateKey = Znl6MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.4/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = fi.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_us">[Interface]
PrivateKey = dXNhMTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.5/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = us.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_gb">[Interface]
PrivateKey = Z2IxMjM0NTY3ODkwYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXo=
Address = 10.0.0.6/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = gb.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
        const servers = {
            'nl': { name: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã', confId: 'conf_nl', flag: 'üá≥üá±' },
            'de': { name: '–ì–µ—Ä–º–∞–Ω–∏—è', confId: 'conf_de', flag: 'üá©üá™' },
            'fi': { name: '–§–∏–Ω–ª—è–Ω–¥–∏—è', confId: 'conf_fi', flag: 'üá´üáÆ' },
            'us': { name: '–°–®–ê', confId: 'conf_us', flag: 'üá∫üá∏' },
            'gb': { name: '–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', confId: 'conf_gb', flag: 'üá¨üáß' }
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ
        let isConnected = false;
        let currentServer = 'nl';
        let speedInterval;
        let dataUsed = 0;

        // –ö—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è
        function togglePower() {
            if (isConnected) {
                disconnectVPN();
            } else {
                connectVPN(currentServer);
            }
        }

        // –°–º–µ–Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞
        function changeServer() {
            const select = document.getElementById('serverSelect');
            currentServer = select.value;
            
            // –ï—Å–ª–∏ —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
            if (isConnected) {
                connectVPN(currentServer);
            }
        }

        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPN
        function connectVPN(code) {
            const server = servers[code];
            if (!server) return;

            // –î–æ—Å—Ç–∞—ë–º –∫–æ–Ω—Ñ–∏–≥
            const configElement = document.getElementById(server.confId);
            if (!configElement) {
                alert('‚ùå –ö–æ–Ω—Ñ–∏–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω! –ó–∞–º–µ–Ω–∏ –¥–∞–Ω–Ω—ã–µ –≤ #conf_' + code);
                return;
            }

            const config = configElement.textContent.trim();

            // –ú–µ–Ω—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('status').innerText = server.name;
            document.getElementById('status').style.color = '#b0ffb0';
            
            // –í–∫–ª—é—á–∞–µ–º –∫—Ä—É–≥–ª—É—é –∫–Ω–æ–ø–∫—É (–∑–µ–ª–µ–Ω–∞—è)
            document.getElementById('powerBtn').classList.add('on');
            document.getElementById('powerText').innerText = '–í–ö–õ';
            isConnected = true;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(`üåµ –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ ${server.flag} ${server.name}...`);

            // 1. –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å WireGuard —á–µ—Ä–µ–∑ deep link (–∫–ª—é—á üîë)
            window.location.href = 'wireguard://' + encodeURIComponent(config);

            // 2. –î–ª—è Android
            window.location.href = 'intent://' + encodeURIComponent(config) + '#Intent;package=com.wireguard.android;end';

            // 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
            setTimeout(() => {
                const blob = new Blob([config], { type: 'application/x-wireguard-config' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `cactus-${code}.conf`;
                link.click();

                document.getElementById('status').innerText = `üîë ${server.name}`;
            }, 800);

            // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Å–∫–æ—Ä–æ—Å—Ç–∏
            startSpeedSimulation();
            
            localStorage.setItem('cactus_vpn', code);
            checkIP();
        }

        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
        function disconnectVPN() {
            window.location.href = 'wireguard://';
            
            document.getElementById('status').innerText = '–û—Ç–∫–ª—é—á—ë–Ω';
            document.getElementById('status').style.color = '#ffb0b0';
            
            // –í—ã–∫–ª—é—á–∞–µ–º –∫—Ä—É–≥–ª—É—é –∫–Ω–æ–ø–∫—É (—Å–µ—Ä–∞—è)
            document.getElementById('powerBtn').classList.remove('on');
            document.getElementById('powerText').innerText = '–í–´–ö–õ';
            isConnected = false;
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Å–∫–æ—Ä–æ—Å—Ç–∏
            stopSpeedSimulation();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏
            document.getElementById('downloadSpeed').innerText = '0 Mbps';
            document.getElementById('uploadSpeed').innerText = '0 Mbps';
            document.getElementById('ping').innerText = '0 ms';
            document.getElementById('downloadProgress').style.width = '0%';
            document.getElementById('uploadProgress').style.width = '0%';
            
            localStorage.removeItem('cactus_vpn');
            checkIP();
        }

        // –°–∏–º—É–ª—è—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (–¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã)
        function startSpeedSimulation() {
            let download = 0;
            let upload = 0;
            let ping = 20;
            dataUsed = parseFloat(localStorage.getItem('cactus_data')) || 0;
            
            document.getElementById('dataUsed').innerText = dataUsed.toFixed(1) + ' MB';
            
            speedInterval = setInterval(() => {
                if (!isConnected) return;
                
                // –°–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
                download = 15 + Math.random() * 35;
                upload = 5 + Math.random() * 15;
                ping = 20 + Math.random() * 30;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                document.getElementById('downloadSpeed').innerText = download.toFixed(1) + ' Mbps';
                document.getElementById('uploadSpeed').innerText = upload.toFixed(1) + ' Mbps';
                document.getElementById('ping').innerText = Math.round(ping) + ' ms';
                
                // –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
                document.getElementById('downloadProgress').style.width = (download / 50 * 100) + '%';
                document.getElementById('uploadProgress').style.width = (upload / 25 * 100) + '%';
                
                // –°—á–∏—Ç–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                dataUsed += (download + upload) * 0.001; // –ø—Ä–∏–º–µ—Ä–Ω–æ
                document.getElementById('dataUsed').innerText = dataUsed.toFixed(1) + ' MB';
                localStorage.setItem('cactus_data', dataUsed);
                
            }, 2000);
        }

        function stopSpeedSimulation() {
            if (speedInterval) {
                clearInterval(speedInterval);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ IP
        function checkIP() {
            fetch('https://api.ipify.org?format=json')
                .then(r => r.json())
                .then(d => {
                    document.getElementById('ipAddress').innerText = d.ip;
                    return fetch(`https://ipapi.co/${d.ip}/json/`);
                })
                .then(r => r.json())
                .then(d => {
                    document.getElementById('country').innerText = d.country_name || '‚Äî';
                })
                .catch(() => {
                    document.getElementById('ipAddress').innerText = '‚Äî';
                    document.getElementById('country').innerText = '‚Äî';
                });
        }

        // –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞
        function testSite(site) {
            const resultDiv = document.getElementById('testResult');
            resultDiv.innerHTML = `‚è≥ –ü—Ä–æ–≤–µ—Ä—è–µ–º ${site}...`;
            resultDiv.style.color = '#b0e0b0';

            fetch(`https://${site}`, { method: 'HEAD', mode: 'no-cors' })
                .then(() => {
                    resultDiv.innerHTML = `‚úÖ ${site} ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω`;
                    resultDiv.style.color = '#a5d6a5';
                })
                .catch(() => {
                    resultDiv.innerHTML = `‚ùå ${site} ‚Äî –Ω—É–∂–µ–Ω VPN`;
                    resultDiv.style.color = '#ffaaaa';
                });
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(text) {
            const resultDiv = document.getElementById('testResult');
            resultDiv.innerHTML = text;
            resultDiv.style.color = '#b0e0b0';
            setTimeout(() => {
                resultDiv.innerHTML = '–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å';
            }, 3000);
        }

        // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            checkIP();
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
            const saved = localStorage.getItem('cactus_vpn');
            if (saved && servers[saved]) {
                currentServer = saved;
                document.getElementById('serverSelect').value = saved;
                document.getElementById('status').innerText = `üîë ${servers[saved].name}`;
            }
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            dataUsed = parseFloat(localStorage.getItem('cactus_data')) || 0;
            document.getElementById('dataUsed').innerText = dataUsed.toFixed(1) + ' MB';
            
            // –ö–Ω–æ–ø–∫–∞ —Å–µ—Ä–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            document.getElementById('powerBtn').classList.remove('on');
            document.getElementById('powerText').innerText = '–í–´–ö–õ';
        };
    </script>
</body>
</html>