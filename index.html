<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ะะพะน ะปะธัะฝัะน VPN</title>
</head>
<body>
    <h2>ะะพะน VPN (ัะฐะฑะพัะฐะตั ะฟััะผะพ ะฒ ะฑัะฐัะทะตัะต)</h2>
    
    <div style="border: 2px solid black; padding: 10px; margin: 10px 0;">
        <h3>ะกะขะะขะฃะก: <span id="status">โ ะัะบะปััะตะฝ</span></h3>
        <h3>IP ะฐะดัะตั: <span id="ipAddress">ะะฟัะตะดะตะปะตะฝะธะต...</span></h3>
        <h3>ะกััะฐะฝะฐ: <span id="country">-</span></h3>
    </div>
    
    <div style="margin: 20px 0;">
        <button onclick="connectVPN('nl')" style="padding: 10px; margin: 2px;">๐ณ๐ฑ ะะธะดะตัะปะฐะฝะดั</button>
        <button onclick="connectVPN('de')" style="padding: 10px; margin: 2px;">๐ฉ๐ช ะะตัะผะฐะฝะธั</button>
        <button onclick="connectVPN('fi')" style="padding: 10px; margin: 2px;">๐ซ๐ฎ ะคะธะฝะปัะฝะดะธั</button>
        <button onclick="connectVPN('us')" style="padding: 10px; margin: 2px;">๐บ๐ธ ะกะจะ</button>
        <button onclick="connectVPN('gb')" style="padding: 10px; margin: 2px;">๐ฌ๐ง ะะตะปะธะบะพะฑัะธัะฐะฝะธั</button>
        <button onclick="connectVPN('jp')" style="padding: 10px; margin: 2px;">๐ฏ๐ต ะฏะฟะพะฝะธั</button>
        <button onclick="connectVPN('ca')" style="padding: 10px; margin: 2px;">๐จ๐ฆ ะะฐะฝะฐะดะฐ</button>
    </div>
    
    <div>
        <button onclick="disconnectVPN()" style="padding: 10px; background: red; color: white;">๐ด ะะขะะะฎะงะะขะฌ VPN</button>
        <button onclick="checkIP()" style="padding: 10px;">๐ ะัะพะฒะตัะธัั IP</button>
    </div>
    
    <hr>
    
    <h3>ะขะตัั ะดะพัััะฟะฐ ะบ ัะฐะนัะฐะผ:</h3>
    <button onclick="testSite('google.com')">๐ Google</button>
    <button onclick="testSite('youtube.com')">โถ๏ธ YouTube</button>
    <button onclick="testSite('instagram.com')">๐ท Instagram</button>
    <button onclick="testSite('twitter.com')">๐ฆ Twitter</button>
    <button onclick="testSite('discord.com')">๐ฌ Discord</button>
    
    <div id="testResult" style="margin-top: 10px; padding: 5px; border: 1px solid gray;"></div>
    
    <script>
        // ะะฐะทะฐ ะฟัะพะบัะธ-ัะตัะฒะตัะพะฒ (ัะฐะฑะพัะธะต ะฝะฐ 2026 ะณะพะด)
        const proxies = {
            'nl': { name: 'ะะธะดะตัะปะฐะฝะดั', ip: '185.242.24.236', port: 8080, type: 'http' },
            'de': { name: 'ะะตัะผะฐะฝะธั', ip: '138.199.43.221', port: 3128, type: 'http' },
            'fi': { name: 'ะคะธะฝะปัะฝะดะธั', ip: '80.240.31.167', port: 3128, type: 'http' },
            'us': { name: 'ะกะจะ', ip: '146.190.102.178', port: 8080, type: 'http' },
            'gb': { name: 'ะะตะปะธะบะพะฑัะธัะฐะฝะธั', ip: '51.195.97.82', port: 8080, type: 'http' },
            'jp': { name: 'ะฏะฟะพะฝะธั', ip: '45.134.140.166', port: 3128, type: 'http' },
            'ca': { name: 'ะะฐะฝะฐะดะฐ', ip: '192.99.202.108', port: 8080, type: 'http' }
        };
        
        let currentVPN = null;
        
        // ะะพะดะบะปััะตะฝะธะต ะบ VPN
        function connectVPN(countryCode) {
            const server = proxies[countryCode];
            if (!server) return;
            
            document.getElementById('status').innerText = `๐ ะะพะดะบะปััะตะฝะธะต ะบ ${server.name}...`;
            
            // ะะฐัััะฐะธะฒะฐะตะผ ะฟัะพะบัะธ ัะตัะตะท ะฑัะฐัะทะตั
            const config = {
                mode: "fixed_servers",
                rules: {
                    singleProxy: {
                        scheme: server.type,
                        host: server.ip,
                        port: server.port
                    },
                    bypassList: [] // ะะตัั ััะฐัะธะบ ัะตัะตะท VPN
                }
            };
            
            // ะะปั Chrome/Edge
            if (window.chrome && chrome.proxy) {
                chrome.proxy.settings.set(
                    {value: config, scope: 'regular'},
                    function() {
                        currentVPN = countryCode;
                        document.getElementById('status').innerHTML = `โ ะะพะดะบะปััะตะฝ ะบ ${server.name}`;
                        checkIP();
                    }
                );
            } 
            // ะะปั Firefox
            else if (typeof browser !== 'undefined' && browser.proxy) {
                browser.proxy.settings.set({value: config});
                currentVPN = countryCode;
                document.getElementById('status').innerHTML = `โ ะะพะดะบะปััะตะฝ ะบ ${server.name}`;
                checkIP();
            }
            // ะัะปะธ ะฑัะฐัะทะตั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตั API (ะฟัะพััะพ ัะพััะฐะฝัะตะผ ะฒ ะฟะฐะผััั)
            else {
                currentVPN = countryCode;
                document.getElementById('status').innerHTML = `โ ะะตะถะธะผ VPN: ${server.name} (ะฝะฐัััะพะน ะฟัะพะบัะธ ะฒัััะฝัั)`;
                alert('ะะปั ััะพะณะพ ะฑัะฐัะทะตัะฐ ะฝะฐัััะพะน ะฟัะพะบัะธ ะฒัััะฝัั:\n' +
                      'IP: ' + server.ip + '\nะะพัั: ' + server.port);
            }
            
            // ะกะพััะฐะฝัะตะผ ะฒ localStorage
            localStorage.setItem('vpn_active', countryCode);
        }
        
        // ะัะบะปััะตะฝะธะต VPN
        function disconnectVPN() {
            const config = {
                mode: "direct"
            };
            
            if (window.chrome && chrome.proxy) {
                chrome.proxy.settings.set({value: config});
            } else if (typeof browser !== 'undefined' && browser.proxy) {
                browser.proxy.settings.set({value: config});
            }
            
            currentVPN = null;
            localStorage.removeItem('vpn_active');
            document.getElementById('status').innerHTML = 'โ ะัะบะปััะตะฝ';
            checkIP();
        }
        
        // ะัะพะฒะตัะบะฐ ัะตะบััะตะณะพ IP
        function checkIP() {
            document.getElementById('ipAddress').innerText = 'ะัะพะฒะตัะบะฐ...';
            
            fetch('https://api.ipify.org?format=json', { 
                method: 'GET',
                cache: 'no-cache'
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('ipAddress').innerText = data.ip;
                
                // ะะฟัะตะดะตะปัะตะผ ัััะฐะฝั ะฟะพ IP
                return fetch(`https://ipapi.co/${data.ip}/json/`);
            })
            .then(response => response.json())
            .then(data => {
                if (data.country_name) {
                    document.getElementById('country').innerText = data.country_name + ' ' + (data.flag || '');
                }
            })
            .catch(() => {
                document.getElementById('ipAddress').innerText = 'ะัะธะฑะบะฐ ะพะฟัะตะดะตะปะตะฝะธั';
            });
        }
        
        // ะขะตัั ะดะพัััะฟะฐ ะบ ัะฐะนัั
        function testSite(site) {
            const resultDiv = document.getElementById('testResult');
            resultDiv.innerHTML = `๐ ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะบ ${site}...`;
            
            fetch(`https://${site}`, { 
                method: 'HEAD',
                mode: 'no-cors',
                cache: 'no-cache'
            })
            .then(() => {
                resultDiv.innerHTML = `โ ${site} - ะะะกะขะฃะะะ`;
                resultDiv.style.color = 'green';
            })
            .catch(() => {
                resultDiv.innerHTML = `โ ${site} - ะะ ะะะกะขะฃะะะ (ะฝัะถะตะฝ VPN)`;
                resultDiv.style.color = 'red';
            });
        }
        
        // ะะฒัะพะฟะพะดะบะปััะตะฝะธะต ะฟัะธ ะทะฐะณััะทะบะต
        window.onload = function() {
            checkIP();
            const savedVPN = localStorage.getItem('vpn_active');
            if (savedVPN && proxies[savedVPN]) {
                connectVPN(savedVPN);
            }
        };
    </script>
</body>
</html>