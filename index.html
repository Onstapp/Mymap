<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CactusVPN üåµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            background: #0a0f0c;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 16px;
        }

        .card {
            background: #111913;
            border-radius: 48px;
            padding: 32px 24px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
            border: 1px solid #2b4b2b;
            transition: all 0.3s ease;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 28px;
        }

        .cactus-icon {
            font-size: 40px;
            filter: drop-shadow(0 0 8px #6fda6f);
            animation: float 3s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .title h1 {
            color: #b0ffb0;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 0 10px #2e7d32;
        }

        .title p {
            color: #7a9e7a;
            font-size: 14px;
        }

        /* –°—Ç–∞—Ç—É—Å-–±–∞—Ä */
        .status-card {
            background: #1a261a;
            border-radius: 40px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid #3b6e3b;
        }

        .status-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .status-label {
            color: #9bbd9b;
            font-weight: 500;
            font-size: 16px;
        }

        .status-value {
            font-weight: 700;
            font-size: 18px;
            padding: 6px 16px;
            border-radius: 40px;
            background: #1f331f;
            color: #b0ffb0;
        }

        .ip-block {
            background: #102310;
            border-radius: 24px;
            padding: 14px;
            margin-top: 8px;
            border: 1px dashed #4c8b4c;
        }

        .ip-item {
            display: flex;
            justify-content: space-between;
            color: #b8e0b8;
            font-size: 15px;
            margin: 6px 0;
        }

        /* –ö–†–£–ì–õ–ê–Ø 2D –ö–ù–û–ü–ö–ê –° –ö–ê–ö–¢–£–°–ê–ú–ò */
        .power-button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
        }

        .power-button {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #2d3d2d;
            border: 3px solid #4f7a4f;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.2s ease;
            color: white;
            font-size: 70px;
            outline: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .power-button:active {
            transform: scale(0.97);
            background: #3a4f3a;
        }

        /* –í–∫–ª—é—á–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –∑–µ–ª–µ–Ω—ã–π –∫–∞–∫—Ç—É—Å */
        .power-button.on {
            background: #3b6e3b;
            border-color: #8eff8e;
            box-shadow: 0 4px 15px #00ff88;
        }

        .power-button.on:active {
            background: #4f8a4f;
        }

        /* –£–±–∏—Ä–∞–µ–º —Å–∏–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ */
        .power-button:focus,
        .power-button:focus-visible,
        .power-button:focus-within {
            outline: none;
            box-shadow: none;
        }

        button, select, .test-btn {
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        button:focus, select:focus {
            outline: none;
        }

        /* –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ */
        .select-container {
            margin: 20px 0;
            position: relative;
        }

        .server-select {
            width: 100%;
            padding: 16px 24px;
            background: #1c2c1c;
            border: 2px solid #3a6e3a;
            border-radius: 60px;
            color: #dcffdc;
            font-size: 18px;
            font-weight: 600;
            appearance: none;
            cursor: pointer;
            transition: all 0.2s ease;
            outline: none;
        }

        .server-select:hover {
            background: #255025;
            border-color: #6fda6f;
        }

        .server-select:focus {
            outline: none;
            border-color: #8eff8e;
        }

        .select-container::after {
            content: '‚ñº';
            position: absolute;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            color: #8bc34a;
            font-size: 14px;
            pointer-events: none;
        }

        /* –ú–µ—Ç—Ä–∏–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ */
        .metrics-container {
            background: #1a261a;
            border-radius: 40px;
            padding: 20px;
            margin: 25px 0;
            border: 1px solid #3b6e3b;
        }

        .metric-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 12px 0;
            color: #b0e0b0;
        }

        .metric-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        .metric-value {
            font-weight: 700;
            font-size: 18px;
            color: #8eff8e;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #0f1f0f;
            border-radius: 10px;
            margin: 5px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #8eff8e;
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è */
        .disconnect-btn {
            width: 100%;
            background: #3d1e1e;
            border: 2px solid #b45f5f;
            border-radius: 60px;
            padding: 16px;
            color: #ffb0b0;
            font-weight: 700;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            outline: none;
        }

        .disconnect-btn:active {
            transform: scale(0.98);
            background: #5c2e2e;
        }

        .disconnect-btn:focus {
            outline: none;
        }

        .footer-note {
            text-align: center;
            color: #467446;
            font-size: 12px;
            margin-top: 16px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        *:focus {
            outline: none;
        }
    </style>
</head>
<body>
    <div class="card">
        <!-- –®–∞–ø–∫–∞ —Å –∫–∞–∫—Ç—É—Å–æ–º -->
        <div class="header">
            <div class="cactus-icon">üåµ</div>
            <div class="title">
                <h1>CactusVPN</h1>
                <p>–∫–æ–ª—é—á–∞—è –∑–∞—â–∏—Ç–∞</p>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
        <div class="status-card">
            <div class="status-row">
                <span class="status-label">–°—Ç–∞—Ç—É—Å</span>
                <span class="status-value" id="status">–û—Ç–∫–ª—é—á—ë–Ω</span>
            </div>
            <div class="ip-block">
                <div class="ip-item"><span>üåê IP</span> <span id="ipAddress">‚Äî</span></div>
                <div class="ip-item"><span>üìç –°—Ç—Ä–∞–Ω–∞</span> <span id="country">‚Äî</span></div>
            </div>
        </div>

        <!-- –ö–†–£–ì–õ–ê–Ø 2D –ö–ù–û–ü–ö–ê –° –ö–ê–ö–¢–£–°–ê–ú–ò -->
        <div class="power-button-container">
            <button class="power-button" id="powerBtn" onclick="togglePower()">
                <span id="cactusIcon">üåµ</span>
            </button>
        </div>

        <!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
        <div class="select-container">
            <select class="server-select" id="serverSelect" onchange="changeServer()">
                <option value="nl">üá≥üá± –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã (–ê–º—Å—Ç–µ—Ä–¥–∞–º)</option>
                <option value="de">üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è (–§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç)</option>
                <option value="fi">üá´üáÆ –§–∏–Ω–ª—è–Ω–¥–∏—è (–•–µ–ª—å—Å–∏–Ω–∫–∏)</option>
                <option value="us">üá∫üá∏ –°–®–ê (–ù—å—é-–ô–æ—Ä–∫)</option>
                <option value="gb">üá¨üáß –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è (–õ–æ–Ω–¥–æ–Ω)</option>
            </select>
        </div>

        <!-- –ú–µ—Ç—Ä–∏–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ -->
        <div class="metrics-container">
            <div class="metric-item">
                <span class="metric-label">üì• –ó–∞–≥—Ä—É–∑–∫–∞</span>
                <span class="metric-value" id="downloadSpeed">0 Mbps</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="downloadProgress" style="width: 0%"></div>
            </div>
            
            <div class="metric-item">
                <span class="metric-label">üì§ –û—Ç–¥–∞—á–∞</span>
                <span class="metric-value" id="uploadSpeed">0 Mbps</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="uploadProgress" style="width: 0%"></div>
            </div>
            
            <div class="metric-item">
                <span class="metric-label">‚ö° –ü–∏–Ω–≥</span>
                <span class="metric-value" id="ping">0 ms</span>
            </div>
            
            <div class="metric-item">
                <span class="metric-label">üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ</span>
                <span class="metric-value" id="dataUsed">0 MB</span>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è -->
        <button class="disconnect-btn" onclick="disconnectVPN()">
            <span>‚èª</span> –û–¢–ö–õ–Æ–ß–ò–¢–¨–°–Ø
        </button>

        <div class="footer-note">
            üåµ –Ω–∞–∂–º–∏ –Ω–∞ –∫–∞–∫—Ç—É—Å ‚Äî –∫–ª—é—á üîë –ø–æ—è–≤–∏—Ç—Å—è —Å–≤–µ—Ä—Ö—É
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ WireGuard (–ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ò –ò–ó TELEGRAM) -->
    <div style="display: none;">
        <pre id="conf_nl">[Interface]
PrivateKey = eHl6MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.2/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = nl.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_de">[Interface]
PrivateKey = ZXhhbXBsZXByaXZhdGVrZXlmb3JwZWVyMTIzNDU2Nzg5MA==
Address = 10.0.0.3/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = de.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_fi">[Interface]
PrivateKey = Znl6MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.4/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = fi.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_us">[Interface]
PrivateKey = dXNhMTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6
Address = 10.0.0.5/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = us.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>

        <pre id="conf_gb">[Interface]
PrivateKey = Z2IxMjM0NTY3ODkwYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXo=
Address = 10.0.0.6/24
DNS = 1.1.1.1

[Peer]
PublicKey = ZXhhbXBsZXB1YmxpY2tleWZvcnBlZXIxMjM0NTY3ODkw
Endpoint = gb.cactusvpn.ru:51820
AllowedIPs = 0.0.0.0/0</pre>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
        const servers = {
            'nl': { name: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã', confId: 'conf_nl', flag: 'üá≥üá±' },
            'de': { name: '–ì–µ—Ä–º–∞–Ω–∏—è', confId: 'conf_de', flag: 'üá©üá™' },
            'fi': { name: '–§–∏–Ω–ª—è–Ω–¥–∏—è', confId: 'conf_fi', flag: 'üá´üáÆ' },
            'us': { name: '–°–®–ê', confId: 'conf_us', flag: 'üá∫üá∏' },
            'gb': { name: '–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', confId: 'conf_gb', flag: 'üá¨üáß' }
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ
        let isConnected = false;
        let currentServer = 'nl';
        let speedInterval;
        let dataUsed = 0;

        // –ö—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∫–∞–∫—Ç—É—Å–∞–º–∏
        function togglePower() {
            if (isConnected) {
                disconnectVPN();
            } else {
                connectVPN(currentServer);
            }
        }

        // –°–º–µ–Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞
        function changeServer() {
            const select = document.getElementById('serverSelect');
            currentServer = select.value;
            
            if (isConnected) {
                connectVPN(currentServer);
            }
        }

        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPN
        function connectVPN(code) {
            const server = servers[code];
            if (!server) return;

            const configElement = document.getElementById(server.confId);
            if (!configElement) {
                alert('‚ùå –ö–æ–Ω—Ñ–∏–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω! –ó–∞–º–µ–Ω–∏ –¥–∞–Ω–Ω—ã–µ –≤ #conf_' + code);
                return;
            }

            const config = configElement.textContent.trim();

            // –ú–µ–Ω—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('status').innerText = server.name;
            document.getElementById('status').style.color = '#b0ffb0';
            
            // –í–∫–ª—é—á–∞–µ–º –∑–µ–ª–µ–Ω—ã–π –∫–∞–∫—Ç—É—Å
            document.getElementById('powerBtn').classList.add('on');
            document.getElementById('cactusIcon').innerHTML = 'üåµ';
            isConnected = true;

            // 1. –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å WireGuard —á–µ—Ä–µ–∑ deep link
            window.location.href = 'wireguard://' + encodeURIComponent(config);

            // 2. –î–ª—è Android
            window.location.href = 'intent://' + encodeURIComponent(config) + '#Intent;package=com.wireguard.android;end';

            // 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
            setTimeout(() => {
                const blob = new Blob([config], { type: 'application/x-wireguard-config' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `cactus-${code}.conf`;
                link.click();
            }, 800);

            // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Å–∫–æ—Ä–æ—Å—Ç–∏
            startSpeedSimulation();
            
            localStorage.setItem('cactus_vpn', code);
            checkIP();
        }

        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
        function disconnectVPN() {
            window.location.href = 'wireguard://';
            
            document.getElementById('status').innerText = '–û—Ç–∫–ª—é—á—ë–Ω';
            document.getElementById('status').style.color = '#ffb0b0';
            
            // –°–µ—Ä—ã–π –∫–∞–∫—Ç—É—Å
            document.getElementById('powerBtn').classList.remove('on');
            document.getElementById('cactusIcon').innerHTML = 'üåµ';
            isConnected = false;
            
            stopSpeedSimulation();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏
            document.getElementById('downloadSpeed').innerText = '0 Mbps';
            document.getElementById('uploadSpeed').innerText = '0 Mbps';
            document.getElementById('ping').innerText = '0 ms';
            document.getElementById('downloadProgress').style.width = '0%';
            document.getElementById('uploadProgress').style.width = '0%';
            
            localStorage.removeItem('cactus_vpn');
            checkIP();
        }

        // –°–∏–º—É–ª—è—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
        function startSpeedSimulation() {
            let download = 0;
            let upload = 0;
            let ping = 20;
            dataUsed = parseFloat(localStorage.getItem('cactus_data')) || 0;
            
            document.getElementById('dataUsed').innerText = dataUsed.toFixed(1) + ' MB';
            
            speedInterval = setInterval(() => {
                if (!isConnected) return;
                
                download = 15 + Math.random() * 35;
                upload = 5 + Math.random() * 15;
                ping = 20 + Math.random() * 30;
                
                document.getElementById('downloadSpeed').innerText = download.toFixed(1) + ' Mbps';
                document.getElementById('uploadSpeed').innerText = upload.toFixed(1) + ' Mbps';
                document.getElementById('ping').innerText = Math.round(ping) + ' ms';
                
                document.getElementById('downloadProgress').style.width = (download / 50 * 100) + '%';
                document.getElementById('uploadProgress').style.width = (upload / 25 * 100) + '%';
                
                dataUsed += (download + upload) * 0.001;
                document.getElementById('dataUsed').innerText = dataUsed.toFixed(1) + ' MB';
                localStorage.setItem('cactus_data', dataUsed);
                
            }, 2000);
        }

        function stopSpeedSimulation() {
            if (speedInterval) {
                clearInterval(speedInterval);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ IP
        function checkIP() {
            fetch('https://api.ipify.org?format=json')
                .then(r => r.json())
                .then(d => {
                    document.getElementById('ipAddress').innerText = d.ip;
                    return fetch(`https://ipapi.co/${d.ip}/json/`);
                })
                .then(r => r.json())
                .then(d => {
                    document.getElementById('country').innerText = d.country_name || '‚Äî';
                })
                .catch(() => {
                    document.getElementById('ipAddress').innerText = '‚Äî';
                    document.getElementById('country').innerText = '‚Äî';
                });
        }

        // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            checkIP();
            
            const saved = localStorage.getItem('cactus_vpn');
            if (saved && servers[saved]) {
                currentServer = saved;
                document.getElementById('serverSelect').value = saved;
                document.getElementById('status').innerText = `üîë ${servers[saved].name}`;
            }
            
            dataUsed = parseFloat(localStorage.getItem('cactus_data')) || 0;
            document.getElementById('dataUsed').innerText = dataUsed.toFixed(1) + ' MB';
            
            // –°–µ—Ä—ã–π –∫–∞–∫—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            document.getElementById('powerBtn').classList.remove('on');
            document.getElementById('cactusIcon').innerHTML = 'üåµ';
        };
    </script>
</body>
</html>